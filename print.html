<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Doc ENAC Robotique</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="accueil.html"><strong aria-hidden="true">1.</strong> Accueil</a></li><li class="chapter-item expanded "><a href="organisation/orga.html"><strong aria-hidden="true">2.</strong> Organisation du club</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="organisation/membre.html"><strong aria-hidden="true">2.1.</strong> Être membre du club</a></li><li class="chapter-item expanded "><a href="organisation/logistique.html"><strong aria-hidden="true">2.2.</strong> Logistique</a></li></ol></li><li class="chapter-item expanded "><a href="introductions/introRobot.html"><strong aria-hidden="true">3.</strong> Intro Création robot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introductions/introPython.html"><strong aria-hidden="true">3.1.</strong> Intro Python</a></li><li class="chapter-item expanded "><a href="introductions/introC.html"><strong aria-hidden="true">3.2.</strong> Intro C/C++</a></li><li class="chapter-item expanded "><a href="introductions/solidworks.html"><strong aria-hidden="true">3.3.</strong> Mécanique</a></li><li class="chapter-item expanded "><a href="introductions/lexique.html"><strong aria-hidden="true">3.4.</strong> Lexique</a></li></ol></li><li class="chapter-item expanded "><a href="outils_communs/index.html"><strong aria-hidden="true">4.</strong> Outils Communs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="outils_communs/dual_boot.html"><strong aria-hidden="true">4.1.</strong> Dual Boot</a></li><li class="chapter-item expanded "><a href="outils_communs/git.html"><strong aria-hidden="true">4.2.</strong> Git</a></li><li class="chapter-item expanded "><a href="outils_communs/vscode.html"><strong aria-hidden="true">4.3.</strong> VS Code & Platformio</a></li><li class="chapter-item expanded "><a href="outils_communs/kicad.html"><strong aria-hidden="true">4.4.</strong> Kicad</a></li><li class="chapter-item expanded "><a href="outils_communs/solidw.html"><strong aria-hidden="true">4.5.</strong> Solidworks</a></li></ol></li><li class="chapter-item expanded "><a href="base_roulante/holonome.html"><strong aria-hidden="true">5.</strong> Base roulante</a></li><li class="chapter-item expanded "><a href="rex/asserv.html"><strong aria-hidden="true">6.</strong> FAQ/REX : Retour D'expérience</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Conception robots</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="rex/asserv.html"><strong aria-hidden="true">6.1.1.</strong> Asservissement</a></li><li class="chapter-item expanded "><a href="rex/concept_meca.html"><strong aria-hidden="true">6.1.2.</strong> Mécanique</a></li><li class="chapter-item expanded "><a href="rex/concept_elec.html"><strong aria-hidden="true">6.1.3.</strong> Conception électronique</a></li><li class="chapter-item expanded "><a href="rex/code_elec.html"><strong aria-hidden="true">6.1.4.</strong> Programmation carte elec</a></li><li class="chapter-item expanded "><a href="rex/code_python.html"><strong aria-hidden="true">6.1.5.</strong> Programmation haut niveau</a></li></ol></li><li class="chapter-item expanded "><a href="rex/coupe.html"><strong aria-hidden="true">6.2.</strong> Organisation du club/Pendant la coupe</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Systèmes spécifiques</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="rex/shoot.html"><strong aria-hidden="true">6.3.1.</strong> Systéme de tir</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="petits_tutos/index.html"><strong aria-hidden="true">7.</strong> Petits tutos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="petits_tutos/informatique.html"><strong aria-hidden="true">7.1.</strong> informatique</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="petits_tutos/raspberry_pi.html"><strong aria-hidden="true">7.1.1.</strong> Raspberry Pi</a></li><li class="chapter-item expanded "><a href="petits_tutos/simulator.html"><strong aria-hidden="true">7.1.2.</strong> simulateur et IHM du robot (2022-2023)</a></li><li class="chapter-item expanded "><a href="petits_tutos/peripherique_occupe.html"><strong aria-hidden="true">7.1.3.</strong> Périphérique occupé au branchement d'un µC</a></li></ol></li><li class="chapter-item expanded "><a href="elec/index.html"><strong aria-hidden="true">7.2.</strong> Tutos elec</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="elec/led.html"><strong aria-hidden="true">7.2.1.</strong> la Led</a></li><li class="chapter-item expanded "><a href="petits_tutos/microcontrollers.html"><strong aria-hidden="true">7.2.2.</strong> les différents microcontrolleurs</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="code/index.html"><strong aria-hidden="true">8.</strong> Tutos code - Architecture globale</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> aruco</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> LIDAR</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> Middleware</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.1.</strong> Ros2</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.2.</strong> eCAL</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.4.</strong> Configuration raspy 4</div></li><li class="chapter-item expanded "><a href="code/state_machine.html"><strong aria-hidden="true">8.5.</strong> Compilateur state machine</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Doc ENAC Robotique</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="images/enac_robotique_logo.png" alt="" title="Bienvenu à l'ENAC Robotique !" /></p>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Ce site contient la documentation du club robot de l'ENAC. Il est en cours de construction, donc très incomplet pour l'instant. N'hésites pas <a href="https://github.com/ENACRobotique/doc">contribuer</a> !</p>
<p>Si vous êtes <strong>nouveau</strong>, jetez un coup d'oeil à <strong><a href="introductions/tutoriel.html">l'introduction</a></strong> pour des tutoriels intéressants à suivre, et posez vos questions sur le <a href="https://discord.com/invite/7sPZFxb">Discord</a> !</p>
<p>Lorsque vous avez besoin d'aide spécifique sur l'utilisation d'un logiciel, consultez les <a href="outils-communs/index.html">Outils Communs</a></p>
<p>On conseille au cours de l'année de lire les **<a href="">Retour d'Experience (REX)</a> que ce soit sur la conception des robots en début d'année puis sur la coupe pour ne pas répéter les erreurs.</p>
<p>Ensuite, si vous avez besoin de tutos spécifiques sur certains sujets ou des clés pour se lancer, il faut consulter les <a href="petits_tutos/index.html">petits tutos</a></p>
<!-- Pour les programmeurs, consulter Tuto Code pour comprendre le principe. -->
<!-- Voici l'ordre de "lecture" du site :  -->
<!-- ![](images/Accueil.png) -->
<div style="break-before: page; page-break-before: always;"></div><h2 id="ou-est-le-club-"><a class="header" href="#ou-est-le-club-">Ou est le club ?</a></h2>
<p>Le club se situe dans le bâtiment Z-008 <strong>en face de la volière drone</strong>. </p>
<p>L'accès y est règlementé, il faut un droit d'accès. Vous devrez donc passer par un membre du club pour y entrer en tant que visiteur ou en attendant d'avoir vos propres accès.</p>
<p><img src="organisation/../images/carte.png" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="etre-membre-du-club"><a class="header" href="#etre-membre-du-club">Etre membre du club</a></h2>
<p>Pour faire partie du club, il faut :</p>
<ol>
<li>
<p>Etre sur le <strong><a href="https://discord.com/invite/7sPZFxb">Discord</a></strong>, c'est le point central de nos communications !</p>
</li>
<li>
<p>Remplir ses <strong>coordonnées</strong> sur le google form <a href="https://docs.google.com/forms/d/e/1FAIpQLSdatJGEQBnEPTqi0qsnMXBmfnNNL4iHKDigHQGw1pEdLLsQVQ/viewform?usp=sf_link">ici pour 2024</a>.</p>
</li>
<li>
<p>Ensuite, il est impératif de <strong>participer</strong> à la réunion hebdomadaire du <strong>jeudi</strong> (ou de consulter le Compte-rendu si vous ne pouvez pas venir certaines fois).</p>
</li>
<li>
<p>Enfin, il ne faut <strong>pas hésiter à demander</strong> de l'aide à tout moment, que ce soit <strong>pour se lancer</strong>/se faire former, ou savoir quoi faire. </p>
</li>
</ol>
<!-- 1. Selon ce qui est adopté cette année, on utilisera un systéme de **Gestion de Projet** (Postit, Trello, ...) pour avoir les tâches en cours et ainsi savoir qui travaille sur quoi.
    + Par exemple, réaliser le cahier des charges, modéliser la base roulante, ...  -->
<h3 id="création-de-comptes"><a class="header" href="#création-de-comptes">Création de comptes</a></h3>
<p>Pour accéder aux outils, vous pouvez également créer les comptes au fur et à mesure de vos besoins, et demander les accès sur Discord.</p>
<ul>
<li><strong>Whatsapp</strong> Si vous avez besoin de communication rapide avec les autres membres (avant/pendant/après un event par exemple)</li>
<li><a href="https://github.com/ENACRobotique"><strong>Github</strong></a> pour partager le code, les cartes électroniques,...</li>
<li><a href="https://www.onshape.com/en/education/sign-up"><strong>Onshape</strong></a> pour la modélisation CAO</li>
</ul>
<h2 id="répartition-des-tâches"><a class="header" href="#répartition-des-tâches">Répartition des tâches</a></h2>
<h3 id="1a2a"><a class="header" href="#1a2a">1A/2A</a></h3>
<p>Auparavant (de ~2015 à 2020), le club était divisé en 2 groupes, chacun faisant un des 2 robots.
D'un côté les 1A et les nouveaux, et de l'autre les 2A, afin d'être généralement regroupés par affinité, emploi du temps (et les 2A étant président &amp; trésorier). Néanmoins, cette approche est devenue compliquée en raison d'un manque de personnes pour réaliser le robot, et le fait que les 2A ont plus de compétence que les 1A ce qu'il fait qu'on refait la roue parfois. </p>
<p>Désormais, <strong>tout le monde travaille sur un seul même robot</strong>, et comme le font beaucoup d'équipe, les <strong>1A</strong> se consacrent surtout sur leur <strong>formation et la réalisation de 'l'expérience'</strong>, tandis que les 2A se consacrent à la transmission et à la réalisation du robot. Selon l'avancée durant l'année, on peut réaliser le second robot, calqué sur le premier avec seulement quelques variations pour ne pas perdre de temps.</p>
<h3 id="les-pôles"><a class="header" href="#les-pôles">Les pôles</a></h3>
<p>Comme de nombreuses équipes, depuis 2022, le club s'organise en &quot;pôle&quot; : </p>
<ul>
<li>Informatique -&gt; Programmation du robot et des outils, de la stratégie, à haut niveau, et des microcontrolleurs, ainsi que comment communique chaque choses entre eux, du réseau,..</li>
<li>Electronique -&gt; Réalisation des cartes electroniques, et programmation des microcontrolleurs avec le pôle informatique.</li>
<li>Mécanique -&gt; Réalisation modélisation et impression 3D, découpage de planches du chassis du robot, assemblage,..</li>
</ul>
<p>Attention il ne faut pas croire que ces pôles sont indépendant , ils sont en réalité intrinsèquement liés ! Vous ferez et verrez de tout afin de comprendre la globalité des éléments en jeux,</p>
<p>Pour la programmation : </p>
<ul>
<li>
<p>Pour ceux qui ont déjà fait beaucoup d'informatique avant, on peut se plonger assez tôt sur ce qui a été fait avant et coder soit même.</p>
</li>
<li>
<p>Pour les <strong>débutants</strong>, les premiers mois, il vaut mieux attendre d'avoir fait des cours de l'ENAC et se concentrer sur des choses simples et laisser les autres/les anciens programmer pour ne pas se démotiver et ne pas perdre trop de temps. On vous a prévu des projets tutoriels pour vous faire les mains !</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="responsabilités---organigramme"><a class="header" href="#responsabilités---organigramme">Responsabilités - Organigramme</a></h2>
<p><img src="organisation/../images/organigramme_2022.png" alt="" title="Organigramme des fonctions au club robot" />
(exemple 2022)</p>
<p>Les responsabilité sont dispatché par rôles et peuvent varier pour chaque année. Un membre peut occuper plusieurs responsabilités. Ces postes n'engagent que notre organisation et sont indépendant des postes BDE. Par ailleurs seul les postes de président, secrétaire et trésorier comptent pour l'engagement citoyens.
Il est préférable que des habitués du club occupent ces 3 postes afin de gérer le club avec l'expérience de son activité.</p>
<h2 id="achat-de-matériel"><a class="header" href="#achat-de-matériel">Achat de matériel</a></h2>
<p>Nous somme dans un club technique et nous avons souvent besoin de matériel plus ou moins rapidement.
Nous avons une procédure spécifique pour l'achat de matériel alors si tu as quelque chose à acheter pour le club <strong>ne te précipite pas !</strong> Rempli ce <a href="https://docs.google.com/forms/d/e/1FAIpQLSewemz9l3u6HdyPxcGG-J_kMPiQli3SrBmdzFpaJSwKc-ys8Q/viewform?usp=sf_link">Google form</a> et préviens ton président ou le référent du club afin qu'ils prennent une décision. Tu peux le faire même pour ce qui n'est pas urgent afin que nous le référençons. 
Voici une liste non exhaustives des fournisseurs que nous utilisons, cherches y le matériel :</p>
<ul>
<li>Kubii</li>
<li>Roboshop</li>
<li>Robomaker</li>
<li>RS</li>
<li>Farnell</li>
<li>Conrad</li>
<li>Dagoma</li>
<li>Amazon ( à éviter  )</li>
<li>Aliexpressà ( à éviter )</li>
</ul>
<p>Consulte aussi notre liste de <a href="https://docs.google.com/spreadsheets/d/1TeUoSIWEmzGR8E95UF1ArcKC_Q9ka0XM_hPPcPnf0rE/edit#gid=0&amp;fvid=1951377967">matériel déjà référencé</a>.</p>
<h2 id="organisation-du-google-drive"><a class="header" href="#organisation-du-google-drive">Organisation du google drive:</a></h2>
<p>Vous n'utiliserez pas beaucoupe le drive sauf si vous avez un poste à responsabilité.</p>
<ul>
<li>Docs -&gt; Documents super utiles mais pas toujours bien rangés
<ul>
<li>Coupe XXX
<ul>
<li>Photos de l’année, Outils de communication, Dossier techniques, specs, cahier des charges, diagrammes,...</li>
</ul>
</li>
<li>Infos sur le club</li>
<li>Graphismes 
<ul>
<li>Logo, affiches,...</li>
</ul>
</li>
<li>Tutos &amp; où trouver les infos ( attention certains ne sont plus au goût du jour !)</li>
<li>Archives réglement</li>
<li>ARchives
<ul>
<li>Anciens dossiers coupes</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Uniquement accessible au Trésorier, Président et Secrétaire:</p>
<ul>
<li>Organisation
<ul>
<li>Trésorerie</li>
<li>Membres</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-dun-robot"><a class="header" href="#introduction-dun-robot">Introduction d'un robot</a></h1>
<h2 id="comment-réaliser-un-robot-"><a class="header" href="#comment-réaliser-un-robot-">Comment réaliser un robot ?</a></h2>
<p>Tout d'abord, il faut décider de quoi faire -&gt; Il faut rédiger une sorte de cahier des charges.</p>
<p>Ensuite, il faut réunir la liste du matériel nécessaire, lesquels sont à commander par exemple.</p>
<p>Enfin, il faut établir la gestion du projet, c'est à dire savoir qui fait quoi et à quel moment pour ne pénaliser personne dans son travail, c'est à dire décider d'un <strong>calendrier</strong> de formation, de deadlines,...</p>
<p>Ainsi, en ordre d'idée, il faudrait idéalement que le robot roule déjà dès fin décembre, et qu'il est capable de marquer des points en février.</p>
<p>Exemple de timeline: 
<img src="introductions/../images/timeline_projet.png" alt="" title="Exemple de timeline pour le robot sur une année" /></p>
<h3 id="le-cahier-des-charges"><a class="header" href="#le-cahier-des-charges">Le cahier des charges</a></h3>
<p>Pour que tout le monde soit d'accord, il est impératif d'avoir un cahier des charges. Il peut être assez court (quelques pages avec photos), mais il doit contenir l'essentiel, c'est à dire identifier à partir du réglement des &quot;fonctions&quot; à réaliser (se déplacer, récupérer X objet, afficher le score,...) afin que tous les membres aient la même idée des objectifs à atteindre. 
Pour chaque fonction, il faut des critères avec une valeur de performance à atteindre. Il peut bien évidemment être modifié au cours de l'année.</p>
<p><a href="https://docs.google.com/document/d/1mrJBK6TYmAEOajHTTRQV775p3FRSDmuo/edit?usp=sharing&amp;ouid=110371115636606943160&amp;rtpof=true&amp;sd=true"><strong>Exemple de rapport avec cahier de charges</strong> pour le mini robot de formation Juin 2022</a></p>
<h4 id="exemple-"><a class="header" href="#exemple-">Exemple :</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Fonction</th><th style="text-align: center">Critère</th><th style="text-align: right">Niveau</th></tr></thead><tbody>
<tr><td>Se déplacer</td><td style="text-align: center">Vitesse max</td><td style="text-align: right">0.8 m/s</td></tr>
<tr><td></td><td style="text-align: center">précision</td><td style="text-align: right">+- 2 cm</td></tr>
<tr><td></td><td style="text-align: center">Accélération min</td><td style="text-align: right">0.3 m.s²</td></tr>
<tr><td></td><td style="text-align: center">Vitesse angulaire max</td><td style="text-align: right">1 rad/s</td></tr>
</tbody></table>
</div>
<h3 id="les-specs-du-robots"><a class="header" href="#les-specs-du-robots">Les specs du robots</a></h3>
<p>L'idée est de recenser toutes les <strong>piéces que composera le robot</strong> (même ceux imprimés en 3D), et d'indiquer l'état d'avancement (en cours de design/de commande, en cours de test,...). Pour ceux qui sont à commander, c'est le moment de voir le prix pour avoir une idée du budget du robot.
Ensuite, on peut faire l'inventaire de ce qui est nécessaire pour la <strong>carte électronique</strong>.
Enfin, on peut définir comment fonctionnera le code dans les grandes lignes (quel &quot;language&quot; de communication entre la carte électronique et les ordis, quels fonctionalités sont impératives, lesquelles sont facultatives,...&quot;).</p>
<p><a href="https://docs.google.com/document/d/1sOBxRK2LiSuNzQPDihp1MDDo0q5jfXRSP5_wCl4TWog/edit?usp=sharing">Un exemple de &quot;cahier de specs&quot; (2022)</a> </p>
<h2 id="de-quoi-est-constitué-un-robot-"><a class="header" href="#de-quoi-est-constitué-un-robot-">De quoi est constitué un robot ?</a></h2>
<h3 id="base-roulante"><a class="header" href="#base-roulante">Base roulante</a></h3>
<p>La base roulante est tout ce qui permet au robot de &quot;rouler&quot; sur la table. Cela inclut les moteurs, les roues, les capteurs pour se localiser, l'électronique pour le déplacement et la localisation <em>(à l'ENAC généralement une carte électronique assure tout le robot)</em>, et les batteries. 
C'est la partie essentielle du robot, à réaliser en premier. Sans base roulante fiable, on ne peut rien faire.</p>
<h4 id="les-robots-différentiels"><a class="header" href="#les-robots-différentiels">Les robots différentiels</a></h4>
<p>Le principe de ces robots est d'avoir 2 roues (généralement centrés sur le robot), avec généralement des patins à l'avant et à l'arrière pour que le robot ne bascule pas. On envoie des consignes de vitesse individuelles à chaque moteur ce qui permet de tourner sur soit même, d'avancer, ou de faire des trajectoires courbées : </p>
<p><img src="introductions/../images/differential_robot_principle.png" alt="" /></p>
<h4 id="les-robots-omnidirectionnels-"><a class="header" href="#les-robots-omnidirectionnels-">Les robots omnidirectionnels :</a></h4>
<p>Ceux-ci ont la faculté de se déplacer dans <strong>toutes les directions</strong> grâce à la forme spéciale des roues. 
Un exemple de gif pour un avec 4 roues : 
<img src="introductions/../images/holonome_gif.gif" alt="" /></p>
<p>On peut également en retrouver à 3 roues, généralement pour faire des robots triangulaires. Le seul désavantage des 3 roues est qu'il n'est pas capable de passer par dessus un obstacle, contrairement à celui à 4 roues qui pourrait.
Pour tourner sur lui même, il suffit de faire tourner les 3 roues dans un sens, et pour se déplacer dans une des trois directions, il suffit de faire avancer 2 roues adjacentes (la troisième roue roule &quot;latéralement&quot; =&gt; Pas de frottement )
Le désavantage des robots omnidirectionnels est qu'il est plus compliqué de se repérer dans l'espace avec ceux-là <em>(à voir partie localisation)</em>.
<img src="introductions/../images/omni_robot_three_wheel.png" alt="" title="exemple de robot omnidirectionnel à 3 roues" /></p>
<h4 id="la-motorisation"><a class="header" href="#la-motorisation">La motorisation</a></h4>
<p>Des moteurs électriques, assez basique, ~12-18V, 10W grand maximum. Vérifier le couple avec le rayon des roues, le reste au pifomètre.
<a href="https://github.com/VRAC-team/la-maxi-liste-ressources-eurobot#223-moteurs">Des outils pour calculer éventuellement le dimensionnement &amp; les caractéristiques du moteur</a></p>
<h4 id="les-roues"><a class="header" href="#les-roues">Les roues</a></h4>
<p>On retrouve principalement :</p>
<ul>
<li>Des roues en caoutchouc  (classique)</li>
<li>Des roues déjà faites plus exotiques (par exemple des roues de rollers) -&gt; Peuvent endommager la table</li>
<li>Faire les roues soit même en polyuréthane, avec l'intérieur de la roue en impression 3D. L'avantage est que l'on peut dimensionner la roue comme on a besoin, ça accroche mieux que la caoutchouc à la table, et ça ne fait (quasiment) pas de dégats sur la table en cas de dérapage. Parcontre il faut le mouler. <strong>Exemple de roues en 2022 sur le dropbox</strong> 
<a href="https://www.youtube.com/watch?v=U-_xxI6qvlg">&quot;Tutoriel pour réaliser les roues&quot;</a></li>
</ul>
<h3 id="base-mécanique"><a class="header" href="#base-mécanique">Base mécanique</a></h3>
<h4 id="forme-du-robot"><a class="header" href="#forme-du-robot">Forme du robot</a></h4>
<p>On retrouve principalement 4 formes possibles :</p>
<ul>
<li>Carrées/Rectangulaire
<ul>
<li><strong>++</strong> Pratique pour se coller à un &quot;mur&quot; </li>
<li><strong>--</strong> Peu optimal pour l'utilisation du périmètre</li>
<li><strong>--</strong> Peut facilement rentrer en collision avec quelque chose en tournant sur lui même (difficile de tourner sur lui même près d'un mur)
<img src="introductions/../images/square_robot.png" alt="" title="robot carré" /></li>
</ul>
</li>
<li>Cylindrique
<ul>
<li><strong>++</strong> Pour le périmètre</li>
<li><strong>--</strong> Peu optimal par rapport à ce qu'on utilise : les actionneurs, les piéces mécaniques, etc... sont généralement rectangulaire
<img src="introductions/../images/rct_toulon.png" alt="" title="robot RCT toulon" /></li>
</ul>
</li>
<li>Hexagonal (is Bestagon)
<ul>
<li><strong>+</strong> Pour le périmètre</li>
<li><strong>+</strong> Bon compris entre cylindre et rectangulaire pour le placement des objets à l'intérieur.
<img src="introductions/../images/robot_enac_2022.png" alt="Robot Enac 2022" /></li>
</ul>
</li>
<li>Triangulaire
<ul>
<li><strong>++</strong> pour les robots holonomes à 3 roues</li>
</ul>
</li>
</ul>
<h4 id="techniques-de-construction"><a class="header" href="#techniques-de-construction">Techniques de construction</a></h4>
<p>Pour construire mécaniquement le &quot;cadre&quot; du robot, une méthode que l'on utilise souvent au club robot est de mettre une planche à la base du robot avec les roues, 4 profilés (=poutres) en métal et une planche qui fait le &quot;toit&quot;. Entre les deux, on peut mettre des planches verticalement ou horizontalement vissés aux profilés.</p>
<p>Pour les profilés : </p>
<ul>
<li>Profilés 20*20, M5, Ecrou en T</li>
<li>Makerbeam
<img src="introductions/../images/maker_beam.jpg" alt="makerbeam" /></li>
</ul>
<p>Pour les planches : </p>
<ul>
<li><strong>Planches en bois</strong></li>
<li>Verre acrylique</li>
<li>en métal</li>
</ul>
<h3 id="capteurs"><a class="header" href="#capteurs">Capteurs</a></h3>
<p>Pour mesurer certaines choses, on peut utiliser :</p>
<div class="table-wrapper"><table><thead><tr><th>Capteur</th><th>Usages</th></tr></thead><tbody>
<tr><td>Pression</td><td>Pour les systèmes pneumatiques (Ventouses) -&gt; savoir si on a attrapé quelque chose</td></tr>
<tr><td>Tension</td><td>Pour le niveau de charge des batteries, mesurer la valeur d'une résistance, ...</td></tr>
<tr><td>Distance TOF (Time Of Flight)/Ultrason</td><td>Permet de mesurer une distance entre le capteur et autre chose en face du capteur, en mesurant le temps que met un rayon laser à se réfléchir pour les TOF ou les ondes sonores pour l'ultrason. On peut utiliser cela pour savoir si on a attrapé un objet par exemple, si il est bien présent, pour savoir s'il y a un autre robot, ... Généralement (mais ça dépend des modèles) ils sont assez précis (1-10mm près) qu'à partir d'une distance de 1-2 cm jusqu'à 1m.</td></tr>
<tr><td>Couleur (ex : TCS34725)</td><td>Pour déterminer une couleur. Ne marche qu'à distance très faible (&lt;1 cm), et il y a une led blanche intégrée pour l'éclairer.</td></tr>
<tr><td>Caméra</td><td>Pour faire de la vision par ordinateur -&gt; Déterminer la position d'un objet, déterminer sa couleur, ... Mais c'est super complexe à mettre en oeuvre donc qu'en dernier recours.</td></tr>
<tr><td>Température</td><td>Pas d'utilité pour la coupe de robot pour l'instant mais ça existe.</td></tr>
<tr><td>Récepteur infrarouge, radio</td><td>utilisable pour la communication sans fil (entre robots)</td></tr>
<tr><td>Interrupteur</td><td>Permet de détecter si le robot ou autre chose est en &quot;contact&quot; physique. Par exemple, on peut en mettre sur le robot à &quot;l'avant&quot; pour savoir s'il est en contact avec le mur et donc si c'est le cas, on sait que la position du robot est contre un mur et on peut &quot;recaler&quot; sa position ainsi.</td></tr>
</tbody></table>
</div>
<p><img src="introductions/../images/exemple_recalage.png" alt="Exemple recalage" /></p>
<h4 id="localisation"><a class="header" href="#localisation">Localisation</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Capteurs localisation (exemples)</th><th>usages</th></tr></thead><tbody>
<tr><td>Encodeur optique (AMT-102V)</td><td>Surtout pour les robots différentiels. Ce sont des dispositifs qu'on met autour d'un axe (par exemple une roue) pour mesurer le nombre de &quot;tours de la roue&quot;. En connaissant le diamètre de la roue, on peut connaitre sa distance parcourue. Certains sont déjà intégrés aux moteurs, mais le problème est que si les roues &quot;dérapent&quot;, les encodeurs sur le moteur ne sont pas en mesure de le détecter. On retrouve donc dans certains robots des <a href="https://enacrobotique.github.io/doc/rex/concept_meca.html#encodeurs">roues &quot;folles&quot;</a>, qui sont juste sur un axe avec une faible résistance pour mesurer les déplacements d'un robot. <img src="introductions/../images/encodeur.jpg" alt="" /></td></tr>
<tr><td>Capteur optique (Souris, <a href="https://shop.pimoroni.com/products/paa5100je-optical-tracking-spi-breakout?variant=39315330170963">PAA5100JE</a>)</td><td>Placé à distance constante du sol, il filme continuellement le sol et via des algorithmes il détermine le &quot;déplacement&quot; horizontal du robot en déterminant les différences entre les images filmés. La précision n'a pas encore été testé au club robot ENAC mais d'après d'autres clubs, c'est prometteur.</td></tr>
<tr><td>Lidar (2D)(Lidar LD06)</td><td>Le lidar est un capteur laser qui mesure sur un angle important (généralement 360°) les distances périodiquement(~10hz). L'usage principale est de détecter les adversaires ainsi. Un projet testé pour la coupe 2022 était de repérer des points fixes connus sur le terrain, et ainsi de trianguler la position du robot. Sinon on pourrait aussi le mettre proche du sol pour détecter les murets et certains algorithmes sont capable de déterminer les déplacements de cette manière. Pour info, ça existe aussi en 3D mais ça sert à rien pour la coupe et ça coute une blinde. <img src="introductions/../images/lidar_2d.png" alt="Lidar" /></td></tr>
<tr><td>IMU/Centrale inertielle/Accéléromètres</td><td>Pas testé au club robot, une centrale inertielle est un instrument, capable d'intégrer les mouvements d'un mobile pour estimer son orientation, sa vitesse linéaire et sa position. L'estimation de position est relative au point de départ ou au dernier point de recalage.</td></tr>
<tr><td>Vision par ordinateur (Camera/Code Aruco)</td><td>Les codes Aruco sont les sortes de QR code sur le terrain. Des algorithmes sont capables de déterminer avec une caméra leurs positions dans l'espace et donc si on en met un sur le robot, de déterminer la position du robot par rapport aux codes arucos du terrain. mais c'est complexe à mettre en oeuvre également.</td></tr>
<tr><td>Triangulisation</td><td>Ultrason, Infrarouge Sur les balises fixes, on peut mettre des capteurs/Emetteurs ultrason/Infrarouges et sur le robot, on peut se trianguler.</td></tr>
</tbody></table>
</div>
<h3 id="actionneurs"><a class="header" href="#actionneurs">Actionneurs</a></h3>
<p>A la base de chaque &quot;mouvement&quot; de robot, on retrouve un moteur (mouvement de rotation). Lorsqu'on a besoin de faire certains types de mouvements, il faut faire des <a href="https://www.alloprof.qc.ca/fr/eleves/bv/sciences/les-mecanismes-de-transformation-du-mouvement-s1437">Transformations</a></p>
<p>Pour attraper les objets, on peut réaliser des &quot;bras&quot; avec un servomoteur qui déplace le bras, et au bout on peut retrouver des :</p>
<ul>
<li>Pince</li>
<li>Ventouse (pneumatique, électrovanne)</li>
<li>Pousser directement avec l'actionneur</li>
</ul>
<h3 id="carte-electronique"><a class="header" href="#carte-electronique">Carte electronique</a></h3>
<p>Pourquoi utiliser des circuits électroniques ?
Pensez à un clavier. Vous pouvez connecter tous les interrupteurs d'un clavier avec des fils et des diodes et toutes ces jolies choses, mais vous vous retrouvez avec un merdier. Un circuit imprimé est essentiellement un foutoir de fils qui n'est en fait qu'une carte avec un câblage en cuivre d'un millimètre d'épaisseur qui est bien agencé pour permettre des connexions rapides et cohérentes sans fils, et sur lesquels on est sur que tous les composants ont la bonne alimentation/courant électrique, et les bonnes connexions pour des protocoles plus complexes entre les composants et le microcontrolleur.</p>
<p><img src="introductions/../images/illustration_pcb.png" alt="" /></p>
<h3 id="microcontrolleur"><a class="header" href="#microcontrolleur">Microcontrolleur</a></h3>
<p><img src="introductions/../images/comparison_microcontroller_2.png" alt="" /></p>
<p>Pin disponible -&gt; Permet de brancher plus de capteurs, actionneurs, et toute sorte de composants électroniques. </p>
<div class="table-wrapper"><table><thead><tr><th>Microcontrolleur</th><th>Capacité de calcul/RAM/Espace</th><th>Pin disponible</th><th>Réseau</th><th>prix(hors pénurie)</th></tr></thead><tbody>
<tr><td><strong>STM32 (français)</strong></td><td>Moyen à fort</td><td>Moyen à fort (~30-60)</td><td>Pas de réseau</td><td>Pas cher</td></tr>
<tr><td><strong>ESP32 (chinois)</strong></td><td>fort à très &quot;fort&quot;</td><td>~20-30</td><td>Wifi, bluetooth</td><td>Pas cher</td></tr>
<tr><td><strong>Arduino</strong> (UK)</td><td>Faible</td><td>~10-20</td><td>Pas de réseau</td><td>Très cher (pour les capacités)</td></tr>
<tr><td><strong>Teensy</strong> (USA)</td><td>Moyen à fort</td><td>Moyen à fort (~30-60)</td><td>Pas de réseau</td><td>Cher</td></tr>
</tbody></table>
</div>
<p>Au niveau de la programmation, généralement, plus c'est simple à programmer, moins il y a de &quot;flexibilité&quot; pour faire des choses complexes. Ainsi, les <strong>arduinos</strong> peuvent être assez limités pour les robots. Simple à utiliser, mais dur lorsque le micocontrolleur doit gérer plein de choses.</p>
<p>Pourquoi ne pas programmer tout le robot sur le microcontrôleur mais qu'on utilise aussi des ordinateurs ?
-&gt; On est obligé d'utiliser des languages &quot;bas niveau&quot;(C, C++) et on pourrait perdre plus de temps à développer des choses avec ces languages qu'en utilisant d'autres plus simples (python,...). C'est compliqué de débugger des choses complexes, et la puissance de calcul reste limité.</p>
<h3 id="ordinateur"><a class="header" href="#ordinateur">Ordinateur</a></h3>
<p>Raspberry pi
<img src="introductions/../images/raspy.jpg" alt="raspberry pi" /></p>
<h3 id="exemple-darchitecture-globale-"><a class="header" href="#exemple-darchitecture-globale-">Exemple d'architecture globale :</a></h3>
<p>Voici un exemple de comment relier tous ces composants :
<img src="introductions/../images/schema_robot.png" alt="schema robot exemple" /></p>
<p>Au sommet, on retrouve un embedded computer (-&gt; Raspberry pi), qui commande un &quot;peripheral board&quot; (-&gt; Carte elec à faire durant l'année) et reliés à d'éventuels composants &quot;gourmands&quot; en puissance de calcul(caméra, lidar,...).
Le peripheral board (qui peut être décomposé en plusieurs cates) lui est connecté à tous les autres composants électroniques.</p>
<h3 id="les-batteries"><a class="header" href="#les-batteries">Les batteries</a></h3>
<p>On utilise cette année des batteries de perceuse (Makita, 18V), sinon des Lipo/Life de hobby king de 12/14V sont très bien.
En terme de consommation électrique, en ordre de grandeur onaà 2/3 A en pic pour les moteurs, et 1/2 A pour le reste.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bases-de-python"><a class="header" href="#bases-de-python">Bases de Python</a></h1>
<h2 id="introduction-1"><a class="header" href="#introduction-1">Introduction</a></h2>
<p>Si vous n'avez jamais programmés en Python, <a href="https://zestedesavoir.com/tutoriels/799/apprendre-a-programmer-avec-python-3/">Zeste de savoir</a> propose une bonne introduction des notions de base (communes à tous les languages), avec un TP pour appliquer directement. Le tuto devrait prendre ~8H à faire au total.</p>
<p>Pour les Ienacs, vous aurez des cours de python dès le premier semestre qui vous apprenent des notions très utilisé au club. Il peut être intéréssant donc de ne pas s'y focaliser dans un premier temps et d'apprendre dans d'autre pôles.</p>
<h2 id="le-python-au-club-robot"><a class="header" href="#le-python-au-club-robot">Le python au club robot</a></h2>
<p>Au club robot, nous utilisons le python pour réaliser de nombreux programmes, que ce soit des scripts, des interfaces graphiques ou encore la stratégie du robot. Pour cela, il peut être nécessaire de bien découper le programme, et d'être capable parfois de traiter en temps réel des données provenant d'un autre ordinateur. </p>
<p>Ainsi, une vue globale des programmes que nous maitenons et développons chaque année est disponible sur <a href="introductions/../code/index.html">tuto code - architecture globale</a></p>
<!-- ## TP - Télécommande robot

*(Durée : Environ 4h)*

Si vous souhaitez prendre en main un exemple de programme que l'on peut être amené à developper au club robot en Python, une bonne introduction consiste à créer une "télécommande" pour un robot simulé.

**//TODO : à rédiger**

Intro robot_sim

Intro robot_kontrol

Intro middleware

Ensuite, Créer un fichier python, avec un publisher de cmd_vel avec eCAL, et voir ce qui se passe sur robot_kontrol

Réaliser un programme qui prend en entrée une lettre, et executer une cmd_vel correspondante (zqsd), et toute autre commande entraine l'arrêt.

Correction :  --><div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-au-c-au-club-robot"><a class="header" href="#introduction-au-c-au-club-robot">Introduction au C au club robot</a></h1>
<p>Selon votre niveau, il faut tout d'abord à apprendre à utiliser <strong>le C en général (I)</strong>, et lorsque c'est bon, vous pourrez passer au <strong>C en embarqué (II)</strong>
<a href="https://docs.google.com/document/d/1-jxdJCb0QWJrYiXEooCPBYri_L7LV24AF4ST5_-yBRs/edit">Lien direct vers le tuto de la Carte tuto</a>
La partie I est réalisable de chez vous, la II peut être plus embêtante.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>Il va falloir installer plusieurs choses :</p>
<h3 id="outils-de-compilation-i"><a class="header" href="#outils-de-compilation-i">Outils de compilation (I):</a></h3>
<p>Le C est un language compilé. Sous Linux vous utiliserez <strong>g++</strong> pour compiler votre code. Vous utiliserez également <strong>GDB</strong> pour déboguer. Ces outils ne sont pas installés par défaut sur Ubuntu, vous devez donc les installer. Heureusement, c'est facile.</p>
<p>Nous allons donc installer un ensemble de paquet très utile pour le développement et la compilation sur linux, il contient g++, GDB ainsi que make que vous serez ammené à utiliser plus tard. </p>
<p>Exécutez la commande suivante à partir de la fenêtre du terminal pour mettre à jour les listes de packages Ubuntu. Une distribution Linux obsolète peut parfois interférer avec les tentatives d'installation de nouveaux packages.</p>
<p><code>sudo apt update</code></p>
<p>Installez ensuite le paquet <code>build-essential</code> avec cette commande :</p>
<p><code>sudo apt install build-essential</code></p>
<p>Vous pouvez ensuite vérifier la version de gcc avec : <code>gcc -v</code></p>
<!-- Lien mort [Zeste de Savoir](https://zestedesavoir.com/tutoriels/755/le-langage-c-1/1042_les-bases-du-langage-c/4621_rencontre-avec-le-c/) -->
<h3 id="editeur-de-texte-"><a class="header" href="#editeur-de-texte-">Editeur de texte :</a></h3>
<p>L'éditeur à utiliser est <a href="introductions/../outils_communs/vscode.html">visual studio code</a></p>
<h2 id="i---introduction-au-c-en-général"><a class="header" href="#i---introduction-au-c-en-général">I - Introduction au C en général</a></h2>
<p>Suivre le tutoriel de <a href="https://zestedesavoir.com/tutoriels/755/le-langage-c-1/1042_les-bases-du-langage-c/">Zeste de savoir</a>. Il contient les notions de bases et des TP pour les appliquer. Il est en <strong>Français</strong>.</p>
<p>Le tutoriel en entier devrait prendre une dizaine d'heures, n'hésitez pas à survoler certains détails et ne vous embétez pas à retenir, vous pouvez toujours retrouver le tutoriel si vous avez oublié quelque chose :p (On est pas en examen !). Vous n'êtes pas contraint de maîtriser ce cours avant d'arriver au club. Et bien évidement <strong>demandez de l'aide si besoin</strong> !</p>
<p>Par exemple, focalisez vous sur les types assez simple (int, float, char), les opérateurs mathématiques basiques, les conditions et les fonctions.</p>
<p>Avec la pratique vous finirez par vous souvenir de ce qui est le plus utilisé dans votre quotidiens. Il n'est pas nécéssaire de faire les section III , IV et V du cours, vous apprendrez le reste au club par la pratique.</p>
<h2 id="ii---le-c-pour-lembarqué"><a class="header" href="#ii---le-c-pour-lembarqué">II - Le C++ pour l'embarqué</a></h2>
<p>Le C c'est bien mais c'est mieux dans le robot ! Les microcontrolleurs sont proggramé en C/C++. Vous apprendrez les notions d'embarqué au club. En attendant vous pourrez aussi lire le manuel du débutant arduino disponible au club. Il explique le fonctionnement et quelques notions de bases. Couplé à vos connaissance du C++ ce sera donc un jeu d'enfant ! </p>
<!-- Pour l'instant non porté sur le site :
    [Carte tuto](https://docs.google.com/document/d/1-jxdJCb0QWJrYiXEooCPBYri_L7LV24AF4ST5_-yBRs/edit)
    [github associé à la carte tuto](https://github.com/Fabien-B/tutosBoardRoboticClub/) -->
<h2 id="iii---problématiques-robots-embarqué"><a class="header" href="#iii---problématiques-robots-embarqué">III - Problématiques robots embarqué</a></h2>
<p>Ultérieurement, vous pouvez voir les problématique liée à l'Asservissement sur le site de <a href="https://www.pm-robotix.eu/2022/02/02/asservissement-et-pilotage-de-robot-autonome/">PM robotix</a>.</p>
<p>(TODO)</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="la-mécanique-au-club"><a class="header" href="#la-mécanique-au-club">La mécanique au club</a></h2>
<p>Un robot, il faut lui donner vie ! Et pour se faire quoi de mieux que deux planches et 3 vis. Bon d'accord c'est plus complexe que ça je te le cède. Le club est un petit atelier équipé de nombreux outils qui te permettrons d'assembler toute sortes de montage et mécanisme qui constituent le robot. La plupart de nos outils ne nécéssite pas de formation spécifique. Pense néanmoins toujours à ta sécurité quand tu les utilises, si tu à un doute demande de l'aide c'est très facile de se blesser.</p>
<p>Nous utilisons aussi le <a href="http://fabric-insa.fr/site/">FabLab de l'Insa</a> qui est très bien équipé. Notamment ils ont une <a href="https://www.autodesk.fr/solutions/cnc-machining-software">CNC</a> et une <a href="https://www.troteclaser.com/fr/apprentissage-et-assistance/faqs/comment-decouper-au-laser">découpeuse laser</a>. L'utilisation des machines se fait facturer à la minute. Il ont aussi un catalogue de noël si vous voulez vous offrir des maquettes à titre <strong>personnel</strong>.</p>
<h2 id="la-cao"><a class="header" href="#la-cao">La C.A.O</a></h2>
<p>Avant de fabriquer le robot il faut le designer. On utilise principalement la <strong>conception assistée par ordinateur</strong> (CAO ou CAD en anglais).</p>
<p>La CAO permet de représenter les objets en deux ou trois dimensions sur un écran.. Elle inclut des fonctions multiples comme le calcul numérique, la  modélisation, etc.</p>
<p>Les logiciels de CAO doivent être en mesure de réaliser les tâches suivantes : </p>
<ul>
<li>la manipulation d'objets 2D ou 3D,</li>
<li>la représentation graphique,</li>
<li>le dessin de plan,</li>
<li>la gestion des grands assemblages. </li>
<li>la modélisation numérique,</li>
<li>le calcul numérique, </li>
</ul>
<p>Au club nous l'utilisons essentiellement pour le dessin des pièce et l'assemblage mécanique du robot. Nous ne faisons pas de calcul numérique.</p>
<h2 id="logiciels"><a class="header" href="#logiciels">Logiciels</a></h2>
<p>Initialement le club utilisait <a href="https://www.solidworks.com/">Solidworks</a> pour la modélisation 3D. Depuis la session 2023 le club cherche à migrer vers <a href="https://www.onshape.com/en/education/sign-up">Onshape</a>. La raison principale est qu'il a l'avantage d'être dans le navigateur ce qui rend son utilisation beaucoup plus accessible. Aucune instalation, pas besoin de windows, pas besoin de pc surpuissant. Pour les habitué de solidworks ne vous inquiétez pas, le logiciel est très similaire dans la création des pièces, il faut juste un petit temps d'adaptation. La ou il diffèr    e c'est dans la gestion des versions et des fichiers mais vous verrez ce n'est rien de compliqué c'est même pratique !</p>
<p>Vous pouvez tout de suite commencer en suivant cette <a href="https://www.youtube.com/playlist?list=PLxmrkna-ixrIQmsPR3MITi4Ru1bnMH4-l">série de tutoriel sur youtube</a> comprenant les bases de création d'une pièce et d'utilisation du logiciel.</p>
<h2 id="impression-3d"><a class="header" href="#impression-3d">Impression 3D</a></h2>
<p>Pour le prototypage on utilise beaucoup l'impression 3D 
Nous avons à notre disposition une <a href="https://www.flashforge.com/download-center/51">Creator Pro 2</a> que tu apprendra à utiliser bien évidemment! Une fois que tu auras fait ta première pièce il te faudra utiliser le logiciel <a href="https://www.flashforge.com/download-center/63">FlashPrint</a> pour rendre ton modèle 3D lisible pour l'imprimante. <em>( Il n'est pas nécéssaire de l'installer il est sur les postes du club ! )</em> Tu apprendra à tout utiliser lors des sessions de formations.</p>
<!-- En sections que l'on peut également passer : 
Cotation avancé
## Choses à voir : 

Faire 2 piéces simple en impression 3D et les assembler

Voir la bibliothéque d’objets du club

Comment organiser une CAO

Montrer charnière, congé

parler des plans, types de vues

Raccourcis claviers intéressants :
F2 je crois, pour renommer -->
<div style="break-before: page; page-break-before: always;"></div><h1 id="lexique"><a class="header" href="#lexique">Lexique</a></h1>
<ul>
<li><strong>L'expérience</strong> : chaque année, on doit réaliser un objet à poser automatique que le robot doit déclencher. (Par exemple un phare en 2020/2021 ou une vitrine d'exposition en 2022).</li>
<li><strong>Base roulante</strong> : ce qui permet au robot de &quot;rouler&quot; : les roues, le moteur, le chassis, les capteurs de &quot;positionnement&quot;, et l'électronique et le code qui va avec</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="outils-communs"><a class="header" href="#outils-communs">Outils Communs</a></h1>
<p>Au club on utilise linux pour la plupart des trucs. Il est conseillé de l'installer : <a href="outils_communs/dual_boot.html">Installer un dual boot</a>. </p>
<p>On utilise git pour la gestion de version du code. C'est un outil magique pour travailler à plusiaurs sur un projet ! <a href="outils_communs/git.html">Commencer avec Git</a>.</p>
<p>On utilise actuellement <a href="outils_communs/vscode.html">Visual Studio Code</a> pour le code.</p>
<p>Enfin, on utilise kicad pour les cartes électroniques. <a href="outils_communs/kicad.html">Kicad</a></p>
<p>Les Ordinateurs du club on tout d'installer si vous voulez vous y essayer avant.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installer-dual-boot-linux"><a class="header" href="#installer-dual-boot-linux">Installer Dual Boot Linux</a></h1>
<p>Développer sous windows peut parfois être un peu compliqué, et comme d'une manière générale <strong>linux c'est mieux</strong>, on va apprendre comment l'installer sur ton ordi.</p>
<p>On va installer un dual boot, c'est à dire que Windows et Linux vont cohabiter sur ton disque dur, et il faudra choisir au démarrage lequel tu voudras lancer. Tu aura donc les performances maximales, mais ne pourra pas etre sur les deux système simultanément.</p>
<p>Il y'a de fortes chances que vous appreniez à le faire en cour d'archimat de l'ENAC lors de TP. Vous pourrez donc vous faire la main avant si vous avez peur de tuer votre ordinateur...</p>
<h2 id="préliminaires-sous-windows"><a class="header" href="#préliminaires-sous-windows">Préliminaires sous windows</a></h2>
<p>Comme Windows n'aime pas partager, il faudra d'aboard faire quelques réglages sous Windows pour permettre l'installation de Linux à côté de celui-ci. Il est aussi plus sage de sauvegarder toutes tes données importantes sur un support hors de ton PC (clé USB, disuqe dur, ...). Je n'ai jamais eu aucune pertes de données, <em>mais</em> <em>comme</em> on joue avec les partitions de son disque dur, on n'est jamais à l'abri d'une erreur ou d'une panne de courant au mauvais moment.</p>
<ul>
<li><strong>Désactiver la mise en veille prolongée :</strong> par défaut, Windows ne s'éteint pas quand on le lui dit mais rentre en veille prolongée, et ça empèche de démarrer sous un autre OS.
<ul>
<li>ouvrir un terminal avec les droits administrateur (clic droit sur le logo windows, shell)</li>
<li>entrer la commande <code>powercfg.exe /hibernate off</code></li>
</ul>
</li>
<li><strong>Reconfigurer le disque en AHCI si besoin :</strong> Sur certains PC récents, les disques utilisent un mode qui n'est pas encore supporté par Linux.
<ul>
<li>Rédémarre ton PC et entre dans les réglages du BIOS (en martelant au démarrage une touche dépendant du PC, en général F2 ou F10). Cherche la mention d'un <strong>SATA mode</strong>, et vérifie qu'il est réglé sur <strong>AHCI</strong>.
<ul>
<li>S'il est bien sur ce mode, passe directement au partitionnement de ton disque.</li>
<li>S'il est réglé sur <strong>RAID</strong> ou un autre truc bizarre (comme <em>RPS with optane</em>), ne le change <strong>pas</strong>, rédémarre ton ordinateur (sur Windows) et suis <a href="http://triplescomputers.com/blog/uncategorized/solution-switch-windows-10-from-raidide-to-ahci-operation/">ce tuto</a> ou <a href="https://www.seeyar.fr/activer-mode-ahci-apres-linstallation-de-windows10-mode-ide/">celui-ci</a> pour reconfigurer le disque en AHCI.</li>
<li>S'il est sur autre chose, renseigne toi !</li>
</ul>
</li>
</ul>
</li>
<li><strong>Partitionner le disque dur :</strong> afin d'éviter tout problème de partionnement à cause de la fragmentation Windows, il vaut mieux utiliser directement les outils de Windows :
<ul>
<li>appuyer sur <code>Windows + R</code></li>
<li>saisir <code>diskmgmt.msc</code></li>
<li>clic droit sur le volume à partitionner (<em>Disque 0</em> par exemple) et sélectionner <code>Réduire le volume</code>. Si tu as plusieurs disques, par exemple un SSD et un HDD, il vaut mieux utiliser le SSD si tu peux pour des raisons de performances, mais ça marchera aussi très bien sur le HDD !</li>
<li>choisir la taille de la partition désirée (Ubuntu demande 15Go minimum et recommande 25Go ; si tu as de la place tu peux libérer un espace de 60Go ou plus !)</li>
</ul>
</li>
</ul>
<p>Ton disque dur a maintenant un espace inutilisé, il est temps de l'utiliser !</p>
<h2 id="installer-linux"><a class="header" href="#installer-linux">Installer Linux</a></h2>
<p>Il existe beaucoup de distributions Linux, et nous allons ici voir comment installer Ubuntu, qui reste simple et adapté à nos besoins. Tu auras besoin d'une clé USB (attention, la clé sera formatée).</p>
<h3 id="préparez-une-clé-bootable"><a class="header" href="#préparez-une-clé-bootable">Préparez une clé bootable</a></h3>
<ul>
<li>Télécharge l'ISO de la dernière LTS : <a href="https://ubuntu.com/download/desktop">https://ubuntu.com/download/desktop</a></li>
<li>Flash l'ISO ainsi téléchargée sur ta clé. Si tu ne sais pas faire, je te conseille d'utiliser <a href="https://www.balena.io/etcher/">Etcher</a> qui permet de faire ça en 4 clicks :
<ul>
<li>&quot;Select Image&quot; t'invite a choisir l'ISO que tu as déjà téléchargé.</li>
<li>&quot;Select Drive&quot; te demande de choisir le disque à flasher. Sois bien sûr de choisir la clef USB, et pas autre chose !</li>
<li>&quot;Flash!&quot; lance l'opération et raconte ce qu'il fait à ta clef au fur et à mesure.</li>
</ul>
</li>
<li>Une fois la clé flashée, redémarre ton ordinateur et entre das les réglagles du BIOS.
<ul>
<li>Désactive le <code>UEFI Secure Boot</code> qui t'empècherai de démarrer sur ta clé.</li>
<li>Désactive le <code>Fast Start-Up</code> qui cette option existe.</li>
<li><em>Optionnel</em> : Change l'odre de priorité pour booter sur la clé USB avant le disque dur.</li>
<li>Sauvegarde de modifications et quitte le BIOS. Ton ordi va redémarrer.</li>
</ul>
</li>
<li>Si tu as changé l'ordre de priorité du boot, l'ordinateur devrait redémarrer sur Linux. Sinon, démarre manuellement sur la clé en pressant la touche appropriée (souvent F12 ou F2).</li>
<li>Sélectionne &quot;try Ubuntu&quot;</li>
</ul>
<p>Ubuntu devrait alors démarrer, et tu peux le tester. Passons maintenant à l'installation !</p>
<h3 id="installation-dubuntu"><a class="header" href="#installation-dubuntu">Installation d'Ubuntu</a></h3>
<p>On va d'abord créer ls partions nécessaires à Ubuntu. Il est possible de faire tout ça directement de puis l'installeur, mais je préfère le faire avant, l'interface étant plus claire !</p>
<ul>
<li>démarre le programme <code>gparted</code></li>
<li>sélectionne le disque ou tu as libérer de l'espace pour Linux</li>
<li><em>Optionnel mais recommandé :</em> Crée un partition de type <code>swap</code> d'une taille égale à la taille de ta RAM.</li>
<li>Crée une partition de type <code>ext4</code>. Si tu as réservé plus de 40Go pour linux, fais la d'environ 25 ou 30 Go, et crée une autre partition <code>ext4</code> sur la place restante. Cela permettra de changer facilement de version d'Ubuntu sans perdre de réglages ni de données.</li>
<li>Applique les modifications (ça peut prendre du temps), et quitte gparted.</li>
</ul>
<p>Tout est prêt, allons-y !</p>
<ul>
<li>démarre l'installeur (il doit être sur le bureau).</li>
<li>Lorsqu'on te demande où installer le système Linux, choisis <em>Autre chose</em> (ou <em>Something else</em>).</li>
<li>Sélectionne la partion <em>swap</em> que tu as crées et configure la en <code>type: swap</code> (ça devrait être déjà fait)</li>
<li>Sélectionne la première (ou seule) partition <em>ext4</em> que tu as créee, et configure la en <code>type: ext4</code> et <code>mount point: /</code> en la formatant.</li>
<li>Si tu as as crée une deuxième partition <em>ext4</em>, configure la en <code>type: ext4</code> et <code>mount point: /home</code>.</li>
<li>Laisse l'emplacement du démarrage à sa valeur par défaut, qui devrait être le disque ou tu as Windows.</li>
<li>Continue avec la suite de l'installation, qui devrait être assez simple, et prendre un certain temps (~20 min). Tu peut utiliser ton ordinateur pendant ce temps.</li>
<li>Quand l'installation sera terminée, Ubuntu te proposera de rédémarrer sur ton nouveau système. Accepte, et retire la clé de l'ordinateur lorsque l'ordinateur est éteint.</li>
</ul>
<p>Au démarrage du PC, tu devrais maintenant atterrir sur une interface te permettant de choisir entre Ubuntu ou Windows. Teste les deux options pour vérifier que tout marche bien.</p>
<p>Passes au chapitre suivant pour installer les outils courants du club.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">Git</a></h1>
<p>Git est un gestionnaire de version qu'on utilise pour gérer le code. Il permet entre autres de facilement collaborer à plusieurs sur un même code, ou encore de revenir à une version antérieur d'un fichier.</p>
<ul>
<li>se créer un compte sur <a href="https://github.com">Github</a></li>
<li>donner son nom d'utilisateur à un responsable du club afin qu'il vous ajoute à l'organisation <a href="https://github.com/ENACRobotique">ENACRobotique</a></li>
<li>installer git : <code>sudo apt install git</code></li>
<li>configurer son email et son nom :
<ul>
<li><code>git config --global user.name &quot;Michel&quot;</code></li>
<li><code>git config --global user.email &quot;michel.du@pont.fr&quot;</code></li>
</ul>
</li>
</ul>
<p>Afin de faciliter l'utilisation de github, il est conseillé de créer une paire de clés SSH et de d'ajouter la clé publique à votre compte github. Cela permettra de pusher vos modif sans taper votre login/mot de passe à chaque fois :</p>
<ul>
<li>créer un paire de clés :
<ul>
<li>ouvrir un terminal et lancer <code>ssh-keygen</code></li>
<li>Garder le chemin par défaut</li>
<li>Ne pas mettre de passphrase pour n'avoir rien à taper lors d'un push.</li>
<li>Vous pouvez visualiser la clé avec <code>cat ~/.ssh/id_rsa.pub</code></li>
</ul>
</li>
<li>Ajouter la clé à votre compte github :
<ul>
<li>connectez vous à <a href="https://github.com">Github</a>, et allez dans vos Settings à l'onglet <a href="https://github.com/settings/keys">SSH and GPG keys</a></li>
<li>Cliquez sur <a href="https://github.com/settings/ssh/new">New SSH key</a></li>
<li>Entrez un titre pour vous rappeler à quel ordinateur cette clé est liée</li>
<li>copiez collez la totalité de votre clé publique (ce qui sort de <code>cat ~/.ssh/id_rsa.pub</code>)</li>
<li>Add SSH key</li>
<li>Confimez votre mot de passe</li>
</ul>
</li>
</ul>
<p>Vous pourrez maintenant cloner les dépôt github en utilisant SSH plutôt que HTTPS en cliquant sur <em>Use SSH</em> dans la petite fenêtre pour obtenir l'adresse du dépôt.
L'adresse du dépôt devrait ressembler à ça : <em>git@github.com:ENACRobotique/doc.git</em></p>
<p><img src="outils_communs/../images/git_ssh.png" alt="" title="Clone avec SSH" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vs-code"><a class="header" href="#vs-code">VS Code</a></h1>
<h3 id="editeur-de-texte-i-et-ii"><a class="header" href="#editeur-de-texte-i-et-ii">Editeur de texte (I et II):</a></h3>
<p>L'éditeur à utiliser est visual studio code.
<a href="https://code.visualstudio.com/">VS code</a>. Vous serez amené à l'utiliser aussi en cour alors il sera judicieux de l'avoir sur votre machine personnelle.</p>
<p>Pour installer un &quot;.deb&quot; sur ubuntu par exemple, vous pouvez faire :</p>
<p><code>sudo dpkg -i fichier.deb</code></p>
<p>Vous pouvez ensuite installer les extentions C/C++ et Python directement depuis VS code. Ça vous facilitera la lecture des différents codes ainsi que l'auto complétion.</p>
<p><img src="outils_communs/../images/cpp-extension.png" alt="" /></p>
<h3 id="outil-de-compilation-pour-lembarqué-ii"><a class="header" href="#outil-de-compilation-pour-lembarqué-ii">Outil de compilation pour l'embarqué (II):</a></h3>
<p>Une extension de VS code qui permet de compiler vers les microcontrolleurs
<a href="https://platformio.org/install/ide?install=vscode">platformio</a>.</p>
<p>Vous apprendrez à l'utiliser directement au club lorsque vous aborderez le C++.</p>
<p><a href="http://ajaugust.com/platformio-notes.html">What is Platformio ?</a> </p>
<p><img src="outils_communs/../images/platformio.png" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kicad"><a class="header" href="#kicad">Kicad</a></h1>
<p>Kicad est le logiciel nous permettant de créer des cartes électroniques.</p>
<p>Installez le en suivant la procédure décrite ici : </p>
<p>À ce jour, la voici :</p>
<ul>
<li><code>sudo add-apt-repository --yes ppa:js-reynaud/kicad-5.1</code></li>
<li><code>sudo apt update</code></li>
<li><code>sudo apt install kicad</code></li>
</ul>
<p>Plus de détails ici (vous pouvez vérifier si  : <a href="http://kicad-pcb.org/download/ubuntu/">http://kicad-pcb.org/download/ubuntu/</a></p>
<h2 id="todo--faire-un-tutoriel-dune-carte-electronique-basique"><a class="header" href="#todo--faire-un-tutoriel-dune-carte-electronique-basique">TODO : faire un tutoriel d'une carte electronique basique</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h2 id="solidworks"><a class="header" href="#solidworks">Solidworks</a></h2>
<p>Le club n'utilise plus solidworks à partir de la rentrée 2023. Néanmoins si vous souhaitez apprendre à utiliser le logiciel il est disponible sur les postes du club. Nous ne l'utiliserons simplement pas pour la conception du robot sauf éventuellemnt dans certains cas très particuliers.</p>
<p>Vous pouvez obtenir une <a href="https://education.solidworks.fr/licence_student_standard_etudiant/">licence étudiante gratuite</a> si vous souhaitez l'installer à titre personnel sur votre machine.</p>
<p>Vous pourrez ensuite suivre les <a href="http://sdz.tdct.org/sdz/apprenez-a-utiliser-solidworks.html#ApprenezutiliserSolidWorks">tutoriels solidworks</a> pour apprendre. Certains membres ont déjà utilisé le logiciels. N'hésitez pas à leur demander conseil.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="base-holonome"><a class="header" href="#base-holonome">Base holonome</a></h1>
<p>Considérons une roue, les calculs seront identique pour les autres roues.</p>
<h2 id="rotation"><a class="header" href="#rotation">Rotation</a></h2>
<p>Commençons par le plus simple : la rotation du robot sur lui-même. Le robotdoit simplement faire tourner ses roues à la même vitesse.</p>
<p>Les roues sont placées à égale distance <strong>R</strong> du centre du robot, leur axe passant par le centre du robot.</p>
<p>Si le robot tourne sur lui-même à une vitesse angulaire <strong>ꞷ</strong>, la vitesse d'une roue sera donc <strong>Vtr = R.ꞷ</strong>.</p>
<p><img src="base_roulante/images/holonome_vitesse_angulaire.png" alt="" title="Rotation" /></p>
<h2 id="translation"><a class="header" href="#translation">Translation</a></h2>
<p>La roue est placée à un angle <strong>β</strong> par rapport au repère du robot. Cet angle est fixé par la construction du robot.</p>
<p>Supposons que le robot se déplace en translation pure à une vitesse <strong>V</strong> qui forme un angle <strong>α</strong> avec le repère du robot.</p>
<p>La vitesse tangentielle de la roue sera donc de <strong>Vtr = V.sin(α-β)</strong>.</p>
<p>La roue étant en translation libre sur l'axe radial, la vitesse radiale ne doit pas être considérée.</p>
<p><img src="base_roulante/images/holonome_vitesse.png" alt="" title="Translation" /></p>
<h2 id="composition-des-vitesses-et-décomposition-selon-les-axes-du-robot"><a class="header" href="#composition-des-vitesses-et-décomposition-selon-les-axes-du-robot">Composition des vitesses, et décomposition selon les axes du robot</a></h2>
<p>Par la composition des vitesse, la vitesse tangentielle totale d'une roue est donc <strong>Vtr = V.sin(α-β) + R.ꞷ</strong></p>
<p>On connait l'identité trigonométrique : <strong>sin(α-β) = sin(α).cos(β) - cos(α).sin(β)</strong></p>
<p>On peut donc écrire <strong>Vtr = V.sin(α).cos(β) - V.cos(α).sin(β) + R.ꞷ</strong></p>
<p>Si on décompose la vitesse <strong>V</strong> selon les axes du robot, on a :</p>
<p><strong>Vx = V.cos(α)</strong>
<strong>Vy = V.sin(α)</strong></p>
<p>On en déduit donc :
<strong>Vtr = Vy.cos(β) - Vx.sin(β) + R.ꞷ</strong></p>
<h2 id="forme-matricielle"><a class="header" href="#forme-matricielle">Forme matricielle</a></h2>
<p>Pour 3 roues placées respectivement aux angles β1, β2 et β3, on aura alors :</p>
<h1>\begin{pmatrix}
v1\\
v2\\
v3
\end</h1>
<p>\begin{pmatrix}
-sin(β1) &amp; cos(β1) &amp; R\\
-sin(β2) &amp; cos(β2) &amp; R\\
-sin(β3) &amp; cos(β3) &amp; R
\end{pmatrix}
\times
\begin{pmatrix}
Vx\\
Vy\\
ꞷ
\end{pmatrix}</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asservissement"><a class="header" href="#asservissement">Asservissement</a></h1>
<p>Le principe de l'asservissement est de permettre à un moteur d'atteindre un objectif donné par &quot;l'utilisateur&quot; (par exemple, atteindre telle position ou tenir telle vitesse, avec un certain degré de précision et de &quot;rapidité&quot; )</p>
<h2 id="la-théorie"><a class="header" href="#la-théorie">La théorie</a></h2>
<p>La bible sur les <strong>principes généraux</strong> : <a href="https://www.pm-robotix.eu/2022/02/02/asservissement-et-pilotage-de-robot-autonome/">PM-robotix</a></p>
<p><a href="http://www.rcva.fr/wp-content/uploads/2016/12/devoir_de_vacances.pdf">RCVA</a></p>
<h2 id="limplémentation"><a class="header" href="#limplémentation">L'implémentation</a></h2>
<p>Pour réaliser un asserv en vitesse, il faut :</p>
<ol>
<li>Fournir des consignes vitesse au robot, par exemple en envoyant du PWM grâce aux drivers moteurs types MD10C/D13S (<a href="https://github.com/ENACRobotique/2022_Robot_A/blob/main/src/motor.cpp#L82">Exemple du code de 2022</a>)</li>
<li>Lire les données des <a href="https://www.generationrobots.com/blog/wp-content/uploads/2014/01/Encodeur-FR.png">encodeurs rotatifs</a>, pour savoir la vitesse des moteurs <a href="https://github.com/ENACRobotique/2022_Robot_A/blob/main/src/odom.cpp">Exemple en 2022, lecture software</a>. (<a href="https://www.generationrobots.com/blog/fr/encodeurs-robotique-mobile/">plus d'info sur les encodeurs</a>)</li>
<li>Prévoir une &quot;interface&quot; avec l'ordinateur (en serial par exemple), c'est à dire pouvoir sur le port serial envoyer les coefficients du PID et recevoir les données de l'encodeur, pour pouvoir tracer des graphes/enrengistrer les données sur l'ordinateur </li>
<li>Régler l'asservissement grâce à des courbes, en envoyant des consignes depuis le PC et en voyant le résultat</li>
<li>Méthode de réglage :  <a href="https://assos.utc.fr/utcoupe/wiki/doku.php?id=informatique:asservissement">une idée de méthode de l'UTC</a></li>
</ol>
<h2 id="pour-aller-plus-loin-pour-améliorer-lasserv"><a class="header" href="#pour-aller-plus-loin-pour-améliorer-lasserv">Pour aller plus loin pour améliorer l'asserv</a></h2>
<p>Pour l'instant, on s'arretait là, mais il peut-être intéressant de tester un asserv en position directement (qui envoie des consignes vers le systéme qui asservit en vitesse), ou d'implémenter les solutions vues en dessous.</p>
<p><strong>TODO</strong> Différence lecture hardware/software des encodeurs</p>
<p>Réglage plus fin du <strong>PID</strong> :
<a href="https://www.pm-robotix.eu/2022/01/19/ameliorer-vos-regulateurs-pid/">PM-robotix</a></p>
<p><a href="https://www.ni.com/fr-fr/innovations/white-papers/08/improving-pid-controller-performance.html">improving PID - ni.com</a></p>
<p>Réglage plus fin du coeff des roues :
<a href="https://github.com/VRAC-team/la-maxi-liste-ressources-eurobot/blob/master/odometrie/RCVA-Conseils_theoriques_pour_Eurobot.pdf">RCVA</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asservissement-1"><a class="header" href="#asservissement-1">Asservissement</a></h1>
<p>Le principe de l'asservissement est de permettre à un moteur d'atteindre un objectif donné par &quot;l'utilisateur&quot; (par exemple, atteindre telle position ou tenir telle vitesse, avec un certain degré de précision et de &quot;rapidité&quot; )</p>
<h2 id="la-théorie-1"><a class="header" href="#la-théorie-1">La théorie</a></h2>
<p>La bible sur les <strong>principes généraux</strong> : <a href="https://www.pm-robotix.eu/2022/02/02/asservissement-et-pilotage-de-robot-autonome/">PM-robotix</a></p>
<p><a href="http://www.rcva.fr/wp-content/uploads/2016/12/devoir_de_vacances.pdf">RCVA</a></p>
<h2 id="limplémentation-1"><a class="header" href="#limplémentation-1">L'implémentation</a></h2>
<p>Pour réaliser un asserv en vitesse, il faut :</p>
<ol>
<li>Fournir des consignes vitesse au robot, par exemple en envoyant du PWM grâce aux drivers moteurs types MD10C/D13S (<a href="https://github.com/ENACRobotique/2022_Robot_A/blob/main/src/motor.cpp#L82">Exemple du code de 2022</a>)</li>
<li>Lire les données des <a href="https://www.generationrobots.com/blog/wp-content/uploads/2014/01/Encodeur-FR.png">encodeurs rotatifs</a>, pour savoir la vitesse des moteurs <a href="https://github.com/ENACRobotique/2022_Robot_A/blob/main/src/odom.cpp">Exemple en 2022, lecture software</a>. (<a href="https://www.generationrobots.com/blog/fr/encodeurs-robotique-mobile/">plus d'info sur les encodeurs</a>)</li>
<li>Prévoir une &quot;interface&quot; avec l'ordinateur (en serial par exemple), c'est à dire pouvoir sur le port serial envoyer les coefficients du PID et recevoir les données de l'encodeur, pour pouvoir tracer des graphes/enrengistrer les données sur l'ordinateur </li>
<li>Régler l'asservissement grâce à des courbes, en envoyant des consignes depuis le PC et en voyant le résultat</li>
<li>Méthode de réglage :  <a href="https://assos.utc.fr/utcoupe/wiki/doku.php?id=informatique:asservissement">une idée de méthode de l'UTC</a></li>
</ol>
<h2 id="pour-aller-plus-loin-pour-améliorer-lasserv-1"><a class="header" href="#pour-aller-plus-loin-pour-améliorer-lasserv-1">Pour aller plus loin pour améliorer l'asserv</a></h2>
<p>Pour l'instant, on s'arretait là, mais il peut-être intéressant de tester un asserv en position directement (qui envoie des consignes vers le systéme qui asservit en vitesse), ou d'implémenter les solutions vues en dessous.</p>
<p><strong>TODO</strong> Différence lecture hardware/software des encodeurs</p>
<p>Réglage plus fin du <strong>PID</strong> :
<a href="https://www.pm-robotix.eu/2022/01/19/ameliorer-vos-regulateurs-pid/">PM-robotix</a></p>
<p><a href="https://www.ni.com/fr-fr/innovations/white-papers/08/improving-pid-controller-performance.html">improving PID - ni.com</a></p>
<p>Réglage plus fin du coeff des roues :
<a href="https://github.com/VRAC-team/la-maxi-liste-ressources-eurobot/blob/master/odometrie/RCVA-Conseils_theoriques_pour_Eurobot.pdf">RCVA</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mécanique"><a class="header" href="#mécanique">Mécanique</a></h1>
<h2 id="conception-générale"><a class="header" href="#conception-générale">Conception générale</a></h2>
<h3 id="choix-des-matériaux"><a class="header" href="#choix-des-matériaux">Choix des matériaux</a></h3>
<h4 id="bois"><a class="header" href="#bois">Bois</a></h4>
<p>Pas mal, mais contreplaqué de 5mm trop fin et pas assez résistant ?</p>
<p>verre acrylique, Impression 3D, métal</p>
<h2 id="base-roulante-1"><a class="header" href="#base-roulante-1">Base roulante</a></h2>
<h3 id="motorisation"><a class="header" href="#motorisation">Motorisation</a></h3>
<p>Holonome (x3 ou x4 ?), différentiel</p>
<h3 id="encodeurs"><a class="header" href="#encodeurs">Encodeurs</a></h3>
<h3 id="roues-follescodeuses"><a class="header" href="#roues-follescodeuses">roues folles/codeuses</a></h3>
<p><img src="rex/../images/roue_folle_2022.png" alt="Roue folle 2022" /></p>
<ul>
<li>Composition :
<ul>
<li>Encodeur AMT-102V</li>
<li>joint torique</li>
<li>Impression 3D</li>
<li>roulement à bille d16 m3</li>
<li>rail de guidage</li>
<li>(Ressort)</li>
</ul>
</li>
</ul>
<p><img src="rex/../images/roue_folle_2022_2.png" alt="roue folle 2022 _ 2" /></p>
<ul>
<li>
<p>Les designs étaient assez compacts et évitaient de prendre trop de place sur le robot.</p>
</li>
<li>
<p>Impression 3D à éviter car trop fragile, la roue se voile assez vite.</p>
</li>
<li>
<p>Le rail utilisé étant de mauvaise qualité, on a des mouvements possibles perpendiculairement à l’axe de la roue, ce qui est totalement à éviter, et peut grandement diminuer la précision. Solutions possibles -&gt; meilleur rail de guidage, ou mettre 2 rails</p>
</li>
<li>
<p>La rainure n’était pas assez profonde, le joint torique à tendance à se barrer avec le ressort même dans des conditions normales(on a dû mettre de la colle entre la roue et le joint).</p>
</li>
<li>
<p>Il faudrait plutôt faire usiner en aluminium  la roue sur laquelle mettre le joint torique, ou acheter des roues codeuses déjà faites, ça peut coûter ~40€ la roue mais ça vaudrait le cout.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="code-c-c"><a class="header" href="#code-c-c">Code (C, C++)</a></h1>
<h2 id="capteurs-1"><a class="header" href="#capteurs-1">capteurs</a></h2>
<h3 id="tcs-34725-"><a class="header" href="#tcs-34725-">TCS 3472(5) :</a></h3>
<p><img src="rex/../images/TCS3472.png" alt="TCS 34725" />
La librairie Adafruit TCS34725 a une erreur, le mauvais ID du capteur est utilisé (devrait être 0x4D) dans ADAfruit_TCS34725.cpp -&gt; Adafruit_TCS34725::begin
-&gt; remplacer  if ((x != 0x44) &amp;&amp; (x != 0x10)) {
par (x != 0x44) &amp;&amp; (x != 0x4D)</p>
<p>Risque de perturbation si autre source de lumière (blanche) forte et proche du capteur
Distance idéal &lt;1cm au pifométre</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="lancement-dobjets-exemples-rusty---2018"><a class="header" href="#lancement-dobjets-exemples-rusty---2018">Lancement d'objets (Exemples rusty - 2018)</a></h1>
<h2 id="inventaire-des-systémes-existants-rusty-ducks-2018"><a class="header" href="#inventaire-des-systémes-existants-rusty-ducks-2018">Inventaire des systémes existants (Rusty ducks 2018)</a></h2>
<p>On a déjà lancé des balles avec un <strong>moteur</strong> qui <strong>entraîne un galet</strong>, ça marche très bien.</p>
<p>On n'asservissait pas le moteur, donc on n'était pas super précis, mais des équipes asservissaient le moteur, et ils étaient assez précis.
D'autres équipes utilisaient des petits solénoïdes avec une tige qui sort de quelques cm quand c'est alimenté, ça à l'air de bien marcher, mais on n'a jamais trouvé les bon trucs (on n'a peut être pas beaucoup chercher).</p>
<p>Et d'autres équipes font avec des <strong>turbines</strong>, on n'a jamais fait non plus, principalement car on n'en n'a pas au club.</p>
<p><a href="https://www.youtube.com/watch?v=qMOzlV9TB9M&amp;t=3564s">Systéme en action chez les rusty</a></p>
<h2 id="axes-damélioration"><a class="header" href="#axes-damélioration">Axes d'amélioration</a></h2>
<p>Avec des moteurs <strong>brushless</strong>, on peut obtenir des meilleures performances car un brushless ça se rapproche plus d'un moteur pas à pas que d'un moteur DC. Donc il est contrôlé assez précisément en vitesse, et ça ne va pas changer suivant la tension de la batterie (sauf si tu arrive à la limite max de rotation). Mais pour compenser le probléme du moteur dépendant de la tension de batterie, on peut mettre un régulateur de tension entre les deux. </p>
<p>Mais il n'y a pas que ça : quand tu envoie la balle et moteur ralenti. Donc soit tu as assez de puissance et d'inertie pour que le moteur ai retrouvé sa vitesse initiale avant que la prochaine balle n'arrive, soit il faut envoyer les balles les unes après les autres, doucement. C'est ce qu'on faisait.</p>
<p><a href="https://youtu.be/qMOzlV9TB9M?t=9950">Systéme en action pendant la finale chez robotech</a></p>
<p><a href="https://www.youtube.com/watch?v=AtQNcGx7NgY">Présentation robotech du systéme</a></p>
<p><a href="https://www.planete-sciences.org/forums/viewtopic.php?f=5&amp;t=18380">Explication robotechs de leur robot 2018</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="petits-tutos"><a class="header" href="#petits-tutos">Petits Tutos</a></h1>
<p>Il y aura dans cette section des petits tutos sur des sujet divers et variés, qui ne méritent pas un chapitre entier.</p>
<h2 id="ressources-en-ligne"><a class="header" href="#ressources-en-ligne">Ressources en ligne</a></h2>
<h3 id="en-général"><a class="header" href="#en-général">En général</a></h3>
<p>De nombreuses ressources en ligne existent déjà, parmi lesquels on peut noter :</p>
<ul>
<li><a href="https://www.eurobot.org/wiki/fr/home"><strong>WIki Eurobot</strong></a> wiki officiel pour la coupe de france de robotique, encore assez peu complet</li>
<li><a href="https://github.com/VRAC-team/la-maxi-liste-ressources-eurobot"><strong>VRAC, Une compilation de tutoriels</strong></a> par &quot;section&quot; (moteurs, odométrie, ...) ciblant les spécificités de la coupe de france</li>
<li><a href="https://gm0.org/en/latest/index.html"><strong>Game Manual, ANGLAIS</strong>,</a> un gros &quot;wiki&quot; pour la compétition de robots FIRST (USA), assez similaire à la coupe de France mais en plus bourrin
<ul>
<li>En particulier, les sections :</li>
<li><a href="https://gm0.org/en/latest/docs/design-skills/index.html">Design Skills</a>, pour la mécanique</li>
<li><a href="https://gm0.org/en/latest/docs/hardware-components/tips-and-tricks.html">Hardware components, Tips and trick</a> pour la mécanique</li>
<li>Common Mechanisms, pour de l'inspiration</li>
<li>Pour les roues folles/codeuses holonomes, <a href="https://gm0.org/en/latest/docs/common-mechanisms/dead-wheels.html">Dead Wheels</a></li>
<li>Electronics and components pour certaines choses</li>
<li><a href="https://gm0.org/en/latest/docs/software/concepts/index.html">Programming Concept</a> pour la partie code (le reste est relativement spécifique au Java donc pas trop utilisable)</li>
</ul>
</li>
</ul>
<h3 id="pour-le-code"><a class="header" href="#pour-le-code">Pour le code</a></h3>
<ul>
<li><a href="https://learnroadrunner.com/">Road Runner</a>, une librairie de code en Java pour <strong>programmer des robots holonomes</strong>, qui peut servir d'inspiration</li>
<li>Des tutoriels sur l'<strong>asserv</strong> sont disponible dans le <a href="petits_tutos/../rex/asserv.html">REX Asserv</a></li>
<li>DEs conseils sur les déplacements et autre des <a href="https://www.pm-robotix.eu/category/alaune/">pm-robotix</a></li>
</ul>
<h2 id="sommaire-de-la-section"><a class="header" href="#sommaire-de-la-section">Sommaire de la section</a></h2>
<p>Commençons par apprendre comment <a href="petits_tutos/raspberry_pi.html">mettre en oeuvre une raspberry pi !</a></p>
<p>Problème lors du branchement d'une carte pendant quelques secondes : <code>/dev/tty_xxx: Périphérique ou ressource occupé</code>. <a href="petits_tutos/peripherique_occupe.html">Résolvez le problème !</a>
| Tutoriel                                                          | Méca | Elec | Info - C | Info - Python |
| <a href="petits_tutos/../petits_tutos/microcontrollers.html">Les différents microcontrolleurs</a>  |      | X    |   X     |           |
| <a href="petits_tutos/../petits_tutos/simulator.html">Le simulateur et les IHM (2022-2023)</a>  |      |    |   X     |    X     |</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pôle-informatique"><a class="header" href="#pôle-informatique">Pôle informatique</a></h1>
<p>Bienvenue sur les tutos d'introduction pour le pôle informatique !</p>
<p>La partie C/C++ peut être fait à tout moment. Idéalement, pour la partie Python, si vous n'avez pas de connaissances en informatique, il vaut mieux attendre en novembre/décembre d'avoir fini les cours enac de Python.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="raspberry-pi"><a class="header" href="#raspberry-pi">Raspberry Pi</a></h1>
<p>La Raspberry Pi est un petit ordinateur monocarte que l'on va embarquer dans certains de nos robots.</p>
<h2 id="graver-limage"><a class="header" href="#graver-limage">Graver l'image</a></h2>
<p>Pour commencer, il faut télécharger <a href="petits_tutos/(https://www.raspberrypi.org/downloads/raspbian/)">une version récente de Raspbian</a>, la distribution officielle pour la Raspberry Pi. Sachant qu'on va l'utiliser sans jamains brancher d'écran, il vaut mieux prendre la version Lite, bien plus légère.</p>
<p>Il va falloir graver cette image sur une carte SD. Pour cela, utilisez <a href="https://www.balena.io/etcher/">Etcher</a>, qui est très simple d'utilisation et marche très bien.</p>
<p>Une fois l'image gravée, ne vous précipitez pas. Nous allons modifier quelques fichiers de la carte SD afin de faciliter la configuration.</p>
<h2 id="pré-configuration"><a class="header" href="#pré-configuration">Pré-configuration</a></h2>
<p><strong>WiFi</strong> : On va faire en sorte que la raspi se connecte directement au réseau WiFi du club.</p>
<p>Éditez le fichier <code>&lt;carte SD Raspi&gt;/etc/wpa_supplicant/wpa_supplicant.conf</code> (les droits d'admin seront sans doute nécessaires), et ajoutez le texte suivant (en remplaçant <em>lemotdepasse</em> par le mot de passe, bien entendu) :</p>
<pre><code class="language-plain-text">network={
    ssid=&quot;robot&quot;
    psk=&quot;lemotdepasse&quot;
}
</code></pre>
<p><strong>SSH</strong> : Pour activer le SSH sans brancher un écran et un clavier, créer un fichier <code>ssh</code> dans la partition <em>boot</em> (celle formatée en FAT). Les identifiants par défauts sont :</p>
<p>utilisateur: pi<br />
hostname: raspberrypi<br />
password : raspberry</p>
<p>Il est mainteant temps de démarrer la Raspberry Pi !</p>
<h2 id="configuration-la-suite"><a class="header" href="#configuration-la-suite">Configuration, la suite</a></h2>
<p>On va donc démarrer la Raspberry Pi en l'alimantant soit par l'USB (solution la plus simple), soit par les broches GND et 5V (seulement si vous savez ce que vous faites !).
Elle devrait automatiquement se connecter au réseau WiFi. Vous pouvez tenter un <code>ping raspberrypi</code>, ou chercher son adresse sur l'interface du routeur.<br />
Quand vous avez trouver, s'y connecter en SSH : <code>ssh pi@raspberrypi</code>, ou <code>ssh pi@192.168.XXX.xxx</code>.</p>
<p><code>sudo raspi-config</code> : changer le hostname, rebooter. (autre choses ?)</p>
<p><strong>UART</strong> : On va certainement utiliser l'UART de la raspi. Sur la Raspberry Pi 3 (et peut être aussi d'autres modèles), il faut modifier la configuration pour pouvoir l'utiliser (<a href="https://www.framboise314.fr/le-port-serie-du-raspberry-pi-3-pas-simple/">source</a>).</p>
<p>Ajouter cette ligne au ficher <code>/boot/config.txt</code> : <code>dtoverlay=pi3-disable-bt</code>.</p>
<p>Dans le fichier <code>/boot/cmdline.txt</code>, supprimer <code>console=serial0,115200</code>.</p>
<p>Quand la raspberrypi sera démarrée, vous prendrez soin de vérifier que <code>serial0 -&gt; ttyAMA0</code> et <code>serial1 -&gt; ttyS0</code> en faisant un <code>ls -l /dev/serial*</code>.</p>
<p>Il est peut-être nécessaire d'aller activer l'UART dans <code>sudo raspi-config</code>. À vérifier.</p>
<p>Pour tester que ça marche : connecter RX et TX ensemble par un câble de breadboard, ouvez minicom <code>minicom -D /dev/ttyAMA0</code>, et taper des trucs. Si les caractères s'affichent c'est que ça marche. Si vous débranchez le fil ça ne devrait pas marcher. Pour quitter mninicom : <code>CTRL+A, q, ENTER</code></p>
<p><strong>Quelques packets à installer</strong> :</p>
<ul>
<li><code>git</code> : gestion de version,</li>
<li><code>python3-pip</code> : gestionnaire de modules python3,</li>
<li><code>minicom</code> : moniteur port série,</li>
<li><code>vim</code> : coloration syntaxique et clavier pour humain, pour l'éditeur de texte <em>vi</em>. Pour <a href="http://www.commitstrip.com/fr/2017/05/29/trapped/">sortir</a> : échap, puis <code>:q</code>, ou <code>:q!</code> si ça veut pas.</li>
</ul>
<p><code>sudo apt install git python3-pip minicom vim</code></p>
<p>Quelques modules python que l'on va souvent utiliser :</p>
<ul>
<li><code>pyserial</code> : pour uiliser un port série,</li>
<li><code>ivy-python</code> : pour communiquer avec <a href="http://www.eei.cena.fr/products/ivy/">Ivy</a>,</li>
<li><code>bitstring</code> : pour convertir des nombres en bytes et inversement.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="simulation-et-ihm"><a class="header" href="#simulation-et-ihm">Simulation et IHM</a></h2>
<ul>
<li>Robokontrol 
<ul>
<li>Afficher la position du robot sur la carte</li>
<li>Ctrl actionneurs</li>
<li>Bouger robot (pos,vit)</li>
</ul>
</li>
<li>eCAL (monitor, recorder, player)
<ul>
<li>Rejouer les données</li>
<li>Afficher les msg</li>
<li>Graphe en fc du tps</li>
</ul>
</li>
<li>robot_sim_ecal (en cours de création) 
<ul>
<li>Bouton+slider dynamique(scripter, avec délai)</li>
<li>Afficher LIDAR </li>
<li>Afficher etat du robot</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="se-débarasser-du-périphérique-occupé-lors-du-branchement-dun-device"><a class="header" href="#se-débarasser-du-périphérique-occupé-lors-du-branchement-dun-device">Se débarasser du &quot;périphérique occupé&quot; lors du branchement d'un device</a></h1>
<p>Le responsable de ce bazar, c'est ModemManager, un service qui permet de contrôler les périphériques mobile 2G/3G/4G. <a href="https://www.freedesktop.org/wiki/Software/ModemManager/">Plus d'infos</a>.</p>
<p>On va faire en sorte qu'il blacklist tout les péiphériques <strong>tty*</strong>.</p>
<p>D'abord on exécute la commande <code>sudo systemctl status ModemManager</code>.<br />
Voilà un exemple de sortie :</p>
<pre><code class="language-plain">● ModemManager.service - Modem Manager
   Loaded: loaded (/lib/systemd/system/ModemManager.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2019-11-15 15:42:25 CET; 13min ago
 Main PID: 6815 (ModemManager)
    Tasks: 3 (limit: 4915)
   CGroup: /system.slice/ModemManager.service
           └─6815 /usr/sbin/ModemManager --filter-policy=strict

</code></pre>
<p>Ensuite on va éditer le fichier indiqué à la ligne <em>Loaded</em> :</p>
<p><code>sudo vi /lib/systemd/system/ModemManager.service</code></p>
<p>A la section <em>[Service]</em> du fichier, rajouter une ligne :</p>
<pre><code class="language-plain">[Service]
...
Environment=&quot;MM_FILTER_RULE_TTY_ACM_INTERFACE=0&quot;
</code></pre>
<p>Enfin il faut recharger la configuration de <em>systemctl</em> et redémarrer le ModemManager:</p>
<pre><code class="language-plain">sudo systemctl daemon-reload
sudo systemctl restart ModemManager
</code></pre>
<p>Source : <a href="https://askubuntu.com/a/1119498">https://askubuntu.com/a/1119498</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tutos-elec"><a class="header" href="#tutos-elec">Tutos elec</a></h1>
<p>L'elec de base c'est pas sorcier, mais on peut pas l'inventer ! Alors voilà quelques petits tutos en rapport avec l'elec, notamment des schémas pour les circuits les plus courants.</p>
<p>Commencez donc par <a href="elec/led.html">allumer une LED</a> !</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="la-led"><a class="header" href="#la-led">la LED</a></h1>
<blockquote>
<p><strong>TL;DR;</strong> Prends entre 300 et 400 ohm.</p>
</blockquote>
<p>La led, c'est la base. Il faut toujours avoir une LED sous la main. Alors commençons direct :</p>
<p><img src="elec/../images/led_base.png" alt="" title="la base" /></p>
<ul>
<li>Le premier &quot;composant&quot; (la flèche vers le haut) représente une source de tension continue (on ne travaille qu'en continu).</li>
<li>Le 2ème est une résistance</li>
<li>le 3ème une LED</li>
<li>le dernier, la masse (point où potentiel vaut 0V)</li>
</ul>
<p>Comme au collège, on suppose que le potentiel est constant le long d'un fil.</p>
<p>La LED est un semi-conducteur qui ne laisse passer le courant que dans un sens, de l'anode (le haut dans ce schéma) vers la cathode (le bas).</p>
<p>Elle a une tension de seuil en deçà de laquelle elle ne s'allume pas. <strong>La résistance est absolument nécessaire afin de ne pas griller la LED, où le système qui l'alimente !</strong></p>
<h2 id="calculer-la-résistance"><a class="header" href="#calculer-la-résistance">Calculer la résistance</a></h2>
<p>Pour calculer la résistance, nous devons connaître la tension d'alimentation (ici 5V, nous l'apellerons <strong>Vcc</strong>), la chute de tension aux bornes de la LED <strong>Vd</strong>, et le courant que nous voulons faire passer dans la led <strong>i</strong>.</p>
<p>Admettons pour l'exemple que la chute de tension au borne de la LED soit <code>Vd=1.6V</code>, et nous voulons faire passer un courant de <code>i=10mA</code>.</p>
<ul>
<li>on calcule d'abord la tension au borne de la résistance (loi des mailles): <code>Vr=Vcc-Vd</code> (donc ici: Vr=3.4V)</li>
<li>on calcule ensuite la résistance avec la loi d'ohm (U=RI): <code>R=Vr/i</code> (donc ici: R=3.4/0.01, R=340 ohms)</li>
</ul>
<h2 id="déterminer-les-paramètres"><a class="header" href="#déterminer-les-paramètres">déterminer les paramètres</a></h2>
<p>C'est bien tout ça, mais comment on trouve <strong>Vd</strong> et <strong>i</strong> ? La réponse se trouve dans un document appelé la <strong>datasheet</strong>.</p>
<p>Ce document existe pour tout les composants électronique, et il faut le consulter avant d'utiliser un composant.</p>
<p>Pour des composants &quot;standards&quot;, il n'y aura pas besoin de tout lire, on pourra se concentrer sur quelques infos précises.</p>
<p>Voilà une datasheet pour une LED : <a href="https://www.vishay.com/docs/83171/tlur640.pdf">https://www.vishay.com/docs/83171/tlur640.pdf</a>.</p>
<p>Quelques indices pour lire une datasheet :</p>
<ul>
<li>En haut à doite, il y a généralement le nom des composants décrits par la datasheet.</li>
<li>Ensuite, il y a un desciption synthétique du composant. C'est rapide et facile à lire, et il y a beaucoup d'infos intéressantes, donc c'est à lire !</li>
<li>Il y a généralement une section &quot;Absolute maximum ratings&quot;. Si vous dépassez les valeurs données ici, vous allez à coup sûr griller le composant. Il ne faut <strong>jamais</strong> atteindre ces valeurs. Cette partie sert à savoir rapidement si le composant peut convenir pour notre cas ou pas.</li>
<li>Le reste de la datasheet contient toutes les infos nécessaire, c'est là qu'il faudra chercher.</li>
</ul>
<p>Par exemple ici, dans les Absolute maximum ratings, le premier paramètre est &quot;Reverse voltage =&gt; 6V&quot;. Ça veut dire que si vous branchez la LED à l'envers sur une alimentation de 6V ou plus, la LED va griller très rapidement.
Plus intéressant pour nous, <em>DC forward current 20mA</em>. On sait donc qu'il faudra fixer le courant à <strong>moins</strong> de 20mA.</p>
<p>Pour une LED, on va chercher le courant qu'on va faire passer. C'est pas toujours très clair à trouver, mais ici, un gros indice est le fait que beacoup de &quot;test condition&quot; prennent <code>If = 10mA</code>. C'est bien inférieur à 20mA, donc on va choisir ça.</p>
<p>Ensuite, il faut touver le <em>forward voltage</em> correspondant à ce courant. On peut le lire, assez difficilement grâce à la figure 4: &quot;<em>Forward current vs. Forward Voltage</em>&quot;. Pour If=10mA, on trouve environ <strong>Vf=1.8V</strong>.</p>
<p>On peut donc refaire notre calcul de résistance: <code>R=(5-1.8)/0.01</code> donc <code>R=320 ohm</code></p>
<div style="break-before: page; page-break-before: always;"></div><p>Arduino, ESP32, Teensy, STM32</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tutos-code---architecture"><a class="header" href="#tutos-code---architecture">Tutos code - architecture</a></h1>
<h2 id="introduction-au-code-robot"><a class="header" href="#introduction-au-code-robot">Introduction au code robot</a></h2>
<p><strong>Pré-requis : Bases du python</strong> (fonctions, classes, boucles, ...)<strong>, Git</strong></p>
<p>Voici les outils &quot;principaux&quot; qu'on peut retrouver dans tout le code d'un robot, et avoir une notion de base sur chacune des choses peut-être utile.</p>
<h3 id="le-déplacement-du-robot--asservissement"><a class="header" href="#le-déplacement-du-robot--asservissement">Le déplacement du robot / Asservissement</a></h3>
<p>Voir <a href="code/../rex/asserv.html">Asservissement - REX, et en particulier le tuto de PM robotix</a>.</p>
<p>Photo volé du tuto de PM robotix :
<img src="code/../images/principe_deplacement_robot.png" alt="principe dep robot" /></p>
<h3 id="capteursactuateurs"><a class="header" href="#capteursactuateurs">Capteurs/Actuateurs</a></h3>
<h3 id="state-machine"><a class="header" href="#state-machine">State machine</a></h3>
<h3 id="communication-inter-programmes"><a class="header" href="#communication-inter-programmes">Communication inter-programmes</a></h3>
<h4 id="liaison-série"><a class="header" href="#liaison-série">Liaison série</a></h4>
<h4 id="topics-publisher-subscriber---exemple-ecal"><a class="header" href="#topics-publisher-subscriber---exemple-ecal">Topics, Publisher, Subscriber - exemple eCAL</a></h4>
<h3 id="simulateur-python---ecal"><a class="header" href="#simulateur-python---ecal">Simulateur python - eCAL</a></h3>
<p>Utilisable pour tester des (recherches de chemins, Pure pursuit, )</p>
<h3 id="visualisation-des-données"><a class="header" href="#visualisation-des-données">Visualisation des données</a></h3>
<p>Le code du robot est assez complexe, voici un schéma récapitulant globalement son fonctionnement :</p>
<p>(Exemple mi 2022, pas très clair) :</p>
<p><img src="code/../images/archi_2022_code.png" alt="code 2022" /></p>
<p>Le principe est de découpler certaines parties du robot : ...</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilateur-state-machine"><a class="header" href="#compilateur-state-machine">Compilateur state machine</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
